import{d as t,o,b as e,h as s,w as a,f as l,u as n,e as i,t as f,g as c,F as u,l as r,s as d,m as _,j as g,n as k}from"./index-1d8410b2.js";import{_ as x}from"./uni-icons.4186a345.js";import{u as m,r as p,c as y,_ as b}from"./_plugin-vue_export-helper.d90a8ef7.js";import{t as h}from"./login.6bfc7a5d.js";const T=b(t({__name:"my",setup(t){const b=m(),T=async()=>{r({title:"提示",content:"确定退出登录?",success:t=>{t.confirm&&(b.updateUserinfo({}),b.updateToken(""),b.updateGlobalStaticSettings({}),d({title:"退出登录成功!"}),setTimeout((()=>{_({url:"/pages/index/index"})}),666))}})},C=()=>{r({title:"清空总功德操作",content:"确定?(不可逆!)",confirmColor:"red",success:t=>{t.confirm&&j()}})},j=async()=>{if(!b.authToken)return;const t=await p({url:"/sync-data/post/gongde",method:"POST",data:{total_gongde:0}});b.clearTotalGongde(),console.log(t)};return(t,r)=>{const d=g,_=y(k("uni-icons"),x);return o(),e(u,null,[s(d,{class:"info-box"},{default:a((()=>[s(d,{class:"info-box-title"},{default:a((()=>[l(" 用户名 ")])),_:1}),s(d,{class:"info-box-content"},{default:a((()=>[n(b).authToken?(o(),i(d,{key:0},{default:a((()=>[l(f(n(b).userinfo.username),1)])),_:1})):(o(),i(d,{key:1,style:{"font-size":"4vw",color:"lightslategray"},onClick:n(h)},{default:a((()=>[l(" 未登录（点击去登录） ")])),_:1},8,["onClick"]))])),_:1})])),_:1}),s(d,{class:"info-box"},{default:a((()=>[s(d,{class:"info-box-title"},{default:a((()=>[l(" 总功德 ")])),_:1}),s(d,{class:"info-box-content"},{default:a((()=>[n(b).authToken?(o(),i(d,{key:0},{default:a((()=>[l(f(n(b).userinfo.total_gongde),1)])),_:1})):(o(),i(d,{key:1,style:{"font-size":"4vw",color:"lightslategray"},onClick:n(h)},{default:a((()=>[l(" 未登录（点击去登录） ")])),_:1},8,["onClick"]))])),_:1})])),_:1}),s(d,{class:"info-box"},{default:a((()=>[s(d,{class:"info-box-title"},{default:a((()=>[l(" 本次功德 ")])),_:1}),s(d,{class:"info-box-content"},{default:a((()=>[s(d,null,{default:a((()=>[l(f(n(b).curGongde),1)])),_:1})])),_:1})])),_:1}),s(d,{class:"info-div"}),n(b).authToken?(o(),i(d,{key:0,class:"info-box-single",onClick:T},{default:a((()=>[s(d,{class:"info-box-title"},{default:a((()=>[l(" 退出登录 ")])),_:1}),s(_,{type:"right",size:"20",color:"#fff"})])),_:1})):c("",!0),n(b).authToken?(o(),i(d,{key:1,class:"info-box-single",onClick:C},{default:a((()=>[s(d,{class:"info-box-title"},{default:a((()=>[l(" 清空总功德 ")])),_:1}),s(_,{type:"right",size:"20",color:"#fff"})])),_:1})):c("",!0)],64)}}}),[["__scopeId","data-v-f359c749"]]);export{T as default};
